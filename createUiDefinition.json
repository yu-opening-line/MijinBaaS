{
  "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
  "handler": "Microsoft.Compute.MultiVm",
  "version": "0.1.2-preview",
  "parameters": {

    "basics": [
      {
          "name": "adminUsername",
          "type": "Microsoft.Compute.UserNameTextBox",
          "label": "Username",
          "toolTip": "Admin username for the machine",
          "osPlatform": "Linux",
          "constraints": {
              "required": true
          }
      },
      {
        "name": "adminCredentials",
        "type": "Microsoft.Compute.CredentialsCombo",
        "label": {
          "username": "Authentication type",
          "authenticationType": "Authentication type",
          "password": "Password",
          "confirmPassword": "Confirm password",
          "sshPublicKey": "SSH public key"
        },
        "constraints": {
          "required": true
        },
        "options": {
          "hideConfirmation": false
        },
        "osPlatform": "Linux"
      },
      {
        "name": "vmSize",
        "type": "Microsoft.Compute.SizeSelector",
        "label": "Data node VM size",
        "toolTip": "Choose VM SKU, Standard A3",
        "recommendedSizes": [
          "Standard_A3"
        ],
        "constraints": {
          "allowedSizes":
            [
              "Standard_A0",
              "Standard_A1",
              "Standard_A2",
              "Standard_A3",
              "Standard_A4",
              "Standard_A5",
              "Standard_A6",
              "Standard_A7",
              "Standard_D1",
              "Standard_D2",
              "Standard_D3",
              "Standard_D4",
              "Standard_D11",
              "Standard_D12",
              "Standard_D13",
              "Standard_D14",
              "Standard_D1_v2",
              "Standard_D2_v2",
              "Standard_D3_v2",
              "Standard_D4_v2",
              "Standard_D5_v2",
              "Standard_D11_v2",
              "Standard_D12_v2",
              "Standard_D13_v2",
              "Standard_D14_v2",
              "Standard_D15_v2",
              "Standard_DS1",
              "Standard_DS2",
              "Standard_DS3",
              "Standard_DS4",
              "Standard_DS11",
              "Standard_DS12",
              "Standard_DS13",
              "Standard_DS14",
              "Standard_DS1_v2",
              "Standard_DS2_v2",
              "Standard_DS3_v2",
              "Standard_DS4_v2",
              "Standard_DS5_v2",
              "Standard_DS11_v2",
              "Standard_DS12_v2",
              "Standard_DS13_v2",
              "Standard_DS14_v2",
              "Standard_DS15_v2",
              "Standard_F1",
              "Standard_F2",
              "Standard_F4",
              "Standard_F8",
              "Standard_F16",
              "Standard_F1s",
              "Standard_F2s",
              "Standard_F4s",
              "Standard_F8s",
              "Standard_F16s"
            ]
        },
        "osPlatform": "Linux",
        "count": 1
      }
    ],
    "steps": [

      {
        "name": "mijin",
        "label": "Mijin Parameters",
        "subLabel": {
          "preValidation": "Required",
          "postValidation": "Done"
        },
        "bladeTitle": "Mijin Parameters",
        "elements":
        [
          {
            "name": "2ndRegion",
            "type": "Microsoft.Common.DropDown",
            "label": "2nd Region",
            "defaultValue": "West US",
            "toolTip": "Select 2nd Mijin Server Region. Region should be unique.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "West India",
                  "value": "West India"
                },
                {
                  "label": "Central India",
                  "value": "Central India"
                },
                {
                  "label": "South India",
                  "value": "South India"
                },
                {
                  "label": "Australia East",
                  "value": "Australia East"
                },
                {
                  "label": "Australia Southeast",
                  "value": "Australia Southeast"
                },
                {
                  "label": "Canada East",
                  "value": "Canada East"
                },
                {
                  "label": "Canada Central",
                  "value": "Canada Central"
                },
                {
                  "label": "Brazil South",
                  "value": "Brazil South"
                },
                {
                  "label": "West Europe",
                  "value": "West Europe"
                },
                {
                  "label": "North Europe",
                  "value": "North Europe"
                },
                {
                  "label": "UK West",
                  "value": "UK West"
                },
                {
                  "label": "UK South",
                  "value": "UK South"
                },
                {
                  "label": "Korea Central",
                  "value": "Korea Central"
                },
                {
                  "label": "Korea South",
                  "value": "Korea South"
                },
                {
                  "label": "Japan West",
                  "value": "Japan West"
                },
                {
                  "label": "East Asia",
                  "value": "East Asia"
                },
                {
                  "label": "Southeast Asia",
                  "value": "Southeast Asia"
                },
                {
                  "label": "Japan East",
                  "value": "Japan East"
                },
                {
                  "label": "West US",
                  "value": "West US"
                },
                {
                  "label": "West US 2",
                  "value": "West US 2"
                },
                {
                  "label": "Central US",
                  "value": "Central US"
                },
                {
                  "label": "West Central US",
                  "value": "West Central US"
                },
                {
                  "label": "South Central US",
                  "value": "South Central US"
                },
                {
                  "label": "North Central US",
                  "value": "North Central US"
                },
                {
                  "label": "East US",
                  "value": "East US"
                },
                {
                  "label": "East US 2",
                  "value": "East US 2"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "3rdRegion",
            "type": "Microsoft.Common.DropDown",
            "label": "3rd Region",
            "defaultValue": "West Europe",
            "toolTip": "Select 3rd Mijin Server Region. Region should be unique.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "West India",
                  "value": "West India"
                },
                {
                  "label": "Central India",
                  "value": "Central India"
                },
                {
                  "label": "South India",
                  "value": "South India"
                },
                {
                  "label": "Australia East",
                  "value": "Australia East"
                },
                {
                  "label": "Australia Southeast",
                  "value": "Australia Southeast"
                },
                {
                  "label": "Canada East",
                  "value": "Canada East"
                },
                {
                  "label": "Canada Central",
                  "value": "Canada Central"
                },
                {
                  "label": "Brazil South",
                  "value": "Brazil South"
                },
                {
                  "label": "West Europe",
                  "value": "West Europe"
                },
                {
                  "label": "North Europe",
                  "value": "North Europe"
                },
                {
                  "label": "UK West",
                  "value": "UK West"
                },
                {
                  "label": "UK South",
                  "value": "UK South"
                },
                {
                  "label": "Korea Central",
                  "value": "Korea Central"
                },
                {
                  "label": "Korea South",
                  "value": "Korea South"
                },
                {
                  "label": "Japan West",
                  "value": "Japan West"
                },
                {
                  "label": "East Asia",
                  "value": "East Asia"
                },
                {
                  "label": "Southeast Asia",
                  "value": "Southeast Asia"
                },
                {
                  "label": "Japan East",
                  "value": "Japan East"
                },
                {
                  "label": "West US",
                  "value": "West US"
                },
                {
                  "label": "West US 2",
                  "value": "West US 2"
                },
                {
                  "label": "Central US",
                  "value": "Central US"
                },
                {
                  "label": "West Central US",
                  "value": "West Central US"
                },
                {
                  "label": "South Central US",
                  "value": "South Central US"
                },
                {
                  "label": "North Central US",
                  "value": "North Central US"
                },
                {
                  "label": "East US",
                  "value": "East US"
                },
                {
                  "label": "East US 2",
                  "value": "East US 2"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "4thRegion",
            "type": "Microsoft.Common.DropDown",
            "label": "4th Region",
            "defaultValue": "West India",
            "toolTip": "Select 4th Mijin Server Region. Region should be unique.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "West India",
                  "value": "West India"
                },
                {
                  "label": "Central India",
                  "value": "Central India"
                },
                {
                  "label": "South India",
                  "value": "South India"
                },
                {
                  "label": "Australia East",
                  "value": "Australia East"
                },
                {
                  "label": "Australia Southeast",
                  "value": "Australia Southeast"
                },
                {
                  "label": "Canada East",
                  "value": "Canada East"
                },
                {
                  "label": "Canada Central",
                  "value": "Canada Central"
                },
                {
                  "label": "Brazil South",
                  "value": "Brazil South"
                },
                {
                  "label": "West Europe",
                  "value": "West Europe"
                },
                {
                  "label": "North Europe",
                  "value": "North Europe"
                },
                {
                  "label": "UK West",
                  "value": "UK West"
                },
                {
                  "label": "UK South",
                  "value": "UK South"
                },
                {
                  "label": "Korea Central",
                  "value": "Korea Central"
                },
                {
                  "label": "Korea South",
                  "value": "Korea South"
                },
                {
                  "label": "Japan West",
                  "value": "Japan West"
                },
                {
                  "label": "East Asia",
                  "value": "East Asia"
                },
                {
                  "label": "Southeast Asia",
                  "value": "Southeast Asia"
                },
                {
                  "label": "Japan East",
                  "value": "Japan East"
                },
                {
                  "label": "West US",
                  "value": "West US"
                },
                {
                  "label": "West US 2",
                  "value": "West US 2"
                },
                {
                  "label": "Central US",
                  "value": "Central US"
                },
                {
                  "label": "West Central US",
                  "value": "West Central US"
                },
                {
                  "label": "South Central US",
                  "value": "South Central US"
                },
                {
                  "label": "North Central US",
                  "value": "North Central US"
                },
                {
                  "label": "East US",
                  "value": "East US"
                },
                {
                  "label": "East US 2",
                  "value": "East US 2"
                }
              ]
            },
            "visible": true
          },
          {
            "name": "5thRegion",
            "type": "Microsoft.Common.DropDown",
            "label": "5th Region",
            "defaultValue": "Australia East",
            "toolTip": "Select 5th Mijin Server Region. Region should be unique.",
            "constraints": {
              "allowedValues": [
                {
                  "label": "West India",
                  "value": "West India"
                },
                {
                  "label": "Central India",
                  "value": "Central India"
                },
                {
                  "label": "South India",
                  "value": "South India"
                },
                {
                  "label": "Australia East",
                  "value": "Australia East"
                },
                {
                  "label": "Australia Southeast",
                  "value": "Australia Southeast"
                },
                {
                  "label": "Canada East",
                  "value": "Canada East"
                },
                {
                  "label": "Canada Central",
                  "value": "Canada Central"
                },
                {
                  "label": "Brazil South",
                  "value": "Brazil South"
                },
                {
                  "label": "West Europe",
                  "value": "West Europe"
                },
                {
                  "label": "North Europe",
                  "value": "North Europe"
                },
                {
                  "label": "UK West",
                  "value": "UK West"
                },
                {
                  "label": "UK South",
                  "value": "UK South"
                },
                {
                  "label": "Korea Central",
                  "value": "Korea Central"
                },
                {
                  "label": "Korea South",
                  "value": "Korea South"
                },
                {
                  "label": "Japan West",
                  "value": "Japan West"
                },
                {
                  "label": "East Asia",
                  "value": "East Asia"
                },
                {
                  "label": "Southeast Asia",
                  "value": "Southeast Asia"
                },
                {
                  "label": "Japan East",
                  "value": "Japan East"
                },
                {
                  "label": "West US",
                  "value": "West US"
                },
                {
                  "label": "West US 2",
                  "value": "West US 2"
                },
                {
                  "label": "Central US",
                  "value": "Central US"
                },
                {
                  "label": "West Central US",
                  "value": "West Central US"
                },
                {
                  "label": "South Central US",
                  "value": "South Central US"
                },
                {
                  "label": "North Central US",
                  "value": "North Central US"
                },
                {
                  "label": "East US",
                  "value": "East US"
                },
                {
                  "label": "East US 2",
                  "value": "East US 2"
                }
              ]
            },
            "visible": true
          },

          {
              "name": "issueAccountLocalIPs",
              "type": "Microsoft.Common.TextBox",
              "label": "Issue Account LocalIPs",
              "toolTip": "Set the Local IP Address to issue the Mijin Account. For more than one, enter with pipe break. (XX.XX.XX.XX|XX.XX.XX.XX)",
              "constraints":
              {
                  "required": true,
                  "regex": "^[0-9][0-9¥|¥.]*$",
                  "validationMessage": "Set the Local IP Address to issue the Mijin Account. For more than one, enter with pipe break. (XX.XX.XX.XX|XX.XX.XX.XX)"
              }
          }

        ]
      }
    ],

    "outputs": {

      "location": "[location()]",

      "adminUsername": "[basics('adminUsername')]",

      "authenticationType": "[basics('adminCredentials').authenticationType]",
      "adminPassword": "[basics('adminCredentials').password]",
      "sshPublicKey": "[basics('adminCredentials').sshPublicKey]",

      "vmSize": "[basics('vmSize')]",

      "2nd_location": "[steps('mijin').2ndRegion]",
      "3rd_location": "[steps('mijin').3rdRegion]",
      "4th_location": "[steps('mijin').4thRegion]",
      "5th_location": "[steps('mijin').5thRegion]",

      "issue_account_local_IPs": "[steps('mijin').issueAccountLocalIPs]"

    }

  }
}
